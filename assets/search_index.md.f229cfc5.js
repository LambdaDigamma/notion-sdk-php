import{_ as s,c as a,o as n,a as l}from"./app.8b670c60.js";const C=JSON.parse('{"title":"Search","description":"","frontmatter":{},"headers":[{"level":2,"title":"Introduction","slug":"introduction","link":"#introduction","children":[]},{"level":2,"title":"Searching","slug":"searching","link":"#searching","children":[]},{"level":2,"title":"Query options","slug":"query-options","link":"#query-options","children":[]}],"relativePath":"search/index.md","lastUpdated":1691522308000}'),o={name:"search/index.md"},p=l(`<h1 id="search" tabindex="-1">Search <a class="header-anchor" href="#search" aria-hidden="true">#</a></h1><h2 id="introduction" tabindex="-1">Introduction <a class="header-anchor" href="#introduction" aria-hidden="true">#</a></h2><p>Searches all parent or child pages and databases that have been shared with an integration.</p><p>Returns all pages or databases, excluding duplicated linked databases, that have titles that include the query param. If no query param is provided, then the response contains all pages or databases that have been shared with the integration.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If you want to search a specific individual database, rather than across all databases, then <a href="./../how-to/query-database.html">query a database</a> instead.</p></div><h2 id="searching" tabindex="-1">Searching <a class="header-anchor" href="#searching" aria-hidden="true">#</a></h2><div class="language-php"><button class="copy"></button><span class="lang">php</span><pre><code><span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">Notion</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Search</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Query</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Query</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">title</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Example</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// Search by page/database title...</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Query</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">all</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;">            </span><span style="color:#676E95;">// ... or search everything</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">notion</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">search</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">search</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">hasMore</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">// bool</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">nextCursor</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// CursorId when hasMore is true</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">results</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">// array of Page and/or Database objects</span></span>
<span class="line"></span></code></pre></div><h2 id="query-options" tabindex="-1">Query options <a class="header-anchor" href="#query-options" aria-hidden="true">#</a></h2><div class="language-php"><button class="copy"></button><span class="lang">php</span><pre><code><span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">Notion</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Search</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">Query</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Query</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">title</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Example</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;">                                </span><span style="color:#676E95;">// Page or database title</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">filterByPages</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;">                                </span><span style="color:#676E95;">// Return only pages</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">filterByDatabases</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;">                            </span><span style="color:#676E95;">// Return only databases</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">sortByLastEditedTime</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">SortDirection</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">Ascending</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// Results order</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// Pagination</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">changePageSize</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">10</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">changeNextCursor</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">70d73991-7e06-43d9-ad3c-3711213f1235</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div>`,9),e=[p];function t(r,c,D,y,F,i){return n(),a("div",null,e)}const d=s(o,[["render",t]]);export{C as __pageData,d as default};
